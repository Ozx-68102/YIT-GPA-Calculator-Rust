# 燕京理工学院 GPA 查询助手 (Rust 版)



## 🚀 项目简介

这是一个为**燕京理工学院**[北方教育集团 (NIG, North Investment Group) 下属高校]学生设计的命令行工具与本地 Web 服务结合的
GPA（平均学分绩点）及课程成绩查询系统。它旨在提供一个**便捷、安全且高效**的本地化解决方案，帮助学生快速获取并管理自己的学业数据。

本项目基于 Rust 语言重新实现和优化，继承并扩展了其原有的 Python 版本，并得益于 Rust 的强大性能与安全性，提供了更可靠的体验。



## ✨ 核心特性

- **本地化服务：** 在本地启动一个轻量级 Web 服务器，通过浏览器访问本地页面进行操作，无需担心数据泄露。
- **GPA 与成绩查询：** 登录后可一键查询所有课程成绩，自动计算出当前的平均 GPA。也为暂时无法通过登录查询成绩（如2024级前的辅修专业）的同学提供了免登录的计算模式，填好指定的模板文件并上传来计算 GPA。
- **高性能：** 基于 Rust 编写，编译为原生二进制文件，拥有极快的运行速度和响应效率。
- **独立运行：** 打包为一个单一的 `.exe` 可执行文件，无需安装任何额外依赖或运行时环境，下载即用。
- **安全加固：** 相较于脚本形式，编译后的二进制文件在信息安全性上更高，不易被分析和修改。



## 🛠️ 技术栈

- **核心语言：** Rust
- **后端 Web 框架：** Axum
- **前端 UI 框架：** Bootstrap 5 (负责页面的布局和UI组件)
- **异步运行时：** Tokio
- **HTTP 客户端：** Reqwest
- **HTML 解析：** `scraper` (基于 CSS 选择器提取网页数据)
- **Excel 解析：** `calamine` (用于读取 `.xlsx` 文件内容)
- **模板引擎：** Tera
- **资源嵌入：** `rust-embed` (用于将所有前端和静态资源打包进 `.exe` 文件)
- **会话管理：** `tower-sessions` & `tower-cookies` (用于实现登录状态保持和跨页面通信)
- **数据序列化：** `serde` (用于处理 JSON 数据和会话存储)
- **高精度计算：** `rust_decimal` (用于避免 GPA 计算中的浮点数误差)
- **错误处理：** `anyhow` & `thiserror` (提供了健壮、清晰的错误管理)
- **并发处理：** `std::sync::Mutex` (用于实现线程安全的可变全局状态)
- **跨平台工具：** `webbrowser` (用于在程序启动时自动打开用户的默认浏览器)



## 🚀 快速开始

### 前提条件

- 一台运行 **Windows 操作系统**的电脑。
- 确保你的电脑网络连接正常，并且没有阻碍本地程序进行网络访问的防火墙或安全软件（如遇到连接问题，请检查防火墙设置）。



### 下载与运行

1. 从 [Release 页面](https://github.com/Ozx-68102/YIT-GPA-Calculator-Rust/releases) 下载最新版本的 `yit_gpa_tool.exe` 。
2. 将下载的 `.exe` 文件放置到你电脑上的任何位置。
3. **双击运行** `yit_gpa_tool.exe`。
4. 程序将启动一个黑色的**终端窗口**，并在其中输出运行日志。同时，你的默认浏览器将自动打开一个本地页面（网址为`http://127.0.0.1:8080`）。
5. 在浏览器中输入你的**学号和密码**，点击查询即可。
6. **重要提示：请勿关闭终端窗口，否则程序将停止运行。**



## ⚙️ 开发与编译 (针对开发者)

如果你是开发者，并希望从源代码编译或贡献：

### 前提条件

- 安装 [Rust 编程语言及其工具链](https://www.rust-lang.org/tools/install)。

### 克隆仓库

```bash
git clone https://github.com/Ozx-68102/YIT-GPA-Calculator-Rust.git
cd YIT-GPA-Calculator-Rust
```

### 编译项目

在项目根目录下运行以下命令：

- **开发模式 (用于调试和快速迭代):**

  ```bash
  cargo run
  ```

- **发布模式 (用于生成最终可执行文件，带优化和小型化):**

  ```bash
  cargo build --release
  ```

  编译完成后，可执行文件(`exe`)将在 `target/release/`文件夹下。



## ⚠️ 注意事项

- **本程序计算的绩点（GPA）仅供参考。实际学分和绩点情况，请始终以教务处官方发布的数据为准。**
- **请仅将本工具用于个人学习和查询目的。** 任何滥用、恶意攻击学校教务系统或违反学校相关规定的行为，由使用者自行承担责任。
- 本工具通过模拟浏览器行为访问教务系统，其功能可能因学校教务系统的更新而失效。如遇问题，欢迎提交 Issue。
- 本项目与燕京理工学院官方无直接关联。
- **如果你的电脑正在使用代理（如`Clash`或`V2Ray`等软件），本程序默认会通过系统代理进行网络请求。如果遇到“HTTP
  请求失败”错误，请临时关闭代理后再运行。**


## 🤝 贡献

欢迎对本项目进行贡献！如果你有任何改进建议、Bug 修复或新功能，欢迎提交 Pull Request。

在提交代码前，请确保：

- 代码符合 Rust 的惯用风格且遵循 Git 代码提交规范。
- 所有测试通过，无重大漏洞。



## 📄 许可证

本项目采用 [MIT 许可证](https://mit-license.org/) 发布。